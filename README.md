# Sample Auth App

Простое приложение для управления пользователями с поддержкой базовой JWT-аутентификации.

## Установка
1. Клонируйте репозиторий:
```
git clone <repo-url>
cd sample-auth-app
```

2. Установите зависимости:
```
npm install
```

3. Запустите контейнеры через Docker Compose:
```
docker compose up -d
```

Запустите приложение локально:
```
npm run start:dev
```
Сервер будет доступен по адресу:
```
http://localhost:3001
```

## Маршруты API

### Регистрация нового пользователя
```
POST
/api/user
```

Пример тела запроса:
```
{
    "surname": "Иванов",
    "name": "Иван",
    "fathername": "Иванович",
    "email": "admin@admin.admin",
    "password": "adminPassword123",
    "birthDate": "1990-01-01",
    "role": "admin",
    "status": "active"
}
```

### Получение токена
```
POST
/api/auth/login
```

Пример тела запроса:
```
{
    "email": "admin@admin.admin",
    "password": "adminPassword123",

}
```

### Получение списка пользователей
```
GET
/api/user
```
* доступно только пользователям с ролью `admin`

### Получение пользователя по ID
```
GET
/api/user/<ID>
```
* доступно пользователю с ролью `admin` без ограничений
* пользователи с ролью `user` могут посмотреть только сами себя

### Блокировка пользователя по ID
```
POST
/api/user/<ID>/block
```
* доступно пользователю с ролью `admin` без ограничений
* пользователи с ролью `user` могут заблокировать только сами себя
* после блокировки пользователя самого себя JWT токен попадает в блэклист, и дальнейшая авторизация с этим токеном становится невозможна
